<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
        crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
        crossorigin="anonymous"></script>
    <link href="./index.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
    <script>
        $(document).ready(function(){
            $("#recordingModal").modal("hide");
            $('#registerModal').modal('hide');
        //var json = '';
        //$("#alertData").html="";
    var map = L.map('mapid').setView([-37.5068, 145.129], 15);
    console.log("Map initialised");
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    var FlameIconOpt = L.Icon.extend({
        options: {            
            iconSize:     [38, 38],            
            iconAnchor:   [0, 0],
            popupAnchor:  [20, 5]
        }
    });

    var flameIcon = new FlameIconOpt({iconUrl: './markers/danger.png'});
    var waterIcon = new FlameIconOpt({iconUrl: './markers/water.png'});
    var bananaIcon = new FlameIconOpt({iconUrl: './markers/banana.png'});
    var safeIcon = new FlameIconOpt({iconUrl: './markers/safe.png'});

    L.marker([-37.5068, 145.119] , { icon: flameIcon} ).addTo(map)
    .bindPopup('<h6 class="alert-danger">John is waiting for help..</h6>')
    .openPopup();
    

    L.marker([-37.5038, 145.120] , { icon: bananaIcon}  ).addTo(map)
    .bindPopup('<h6 class="alert-danger">Mack is waiting for help..</h6>')
    .openPopup();

    L.marker([-37.5018, 145.123] , { icon: waterIcon}  ).addTo(map)
    .bindPopup('<h6 class="alert-danger">John is waiting for help..</h6>')
    .openPopup();
   
    L.marker([-37.5068, 145.129] , { icon: safeIcon} ).addTo(map)
    .bindPopup('<h6 class="alert-success">Safe Assembly point..</h6>')
    .openPopup();

    /*  L.marker([-37.5062, 145.125]  ).addTo(map)
    .bindPopup('<h6 class="alert-info">You are here..</h6>')
    .openPopup(); */


    $("#push_btn").click(function(){
        $('#recordingModal').modal('show');
    });

    $("#done_btn").click(function(){
        $('#recordingModal').modal('hide');
    });

    $("#reg_btn").click(function(){
        $('#registerModal').modal('show');
    });

    $("#submit_reg_btn").click(function(){
        $('#registerModal').modal('hide');
    });



   /* var ctx = document.getElementById("myChart").getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
        datasets: [{
            label: '# of Votes',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});*/
});
</script>
</head>

<body style="background: white;">


    <div class="modal fade" tabindex="-1" role="dialog" id="recordingModal">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Recording</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Sending your Message ...</p>
                    <img src="recording.PNG" width="200px" height="50px" />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-success" id="done_btn">Done</button>
                </div>
                </div>
            </div>
    </div>

    <div class="modal fade" tabindex="-1" role="dialog" id="registerModal">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                <div class="modal-header alert-info text-dark">
                    <h5 class="modal-title">Register</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                            <div class="form-group row">
                                <label for="staticEmail" class="col-sm-3 col-form-label">Name :</label>
                                <div class="col-sm-9">
                                <input type="text" class="form-control" placeholder="Please enter your name" >
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="inputPassword" class="col-sm-3 col-form-label">Mobile :</label>
                                <div class="col-sm-9">
                                <input type="text" class="form-control" id="inputPassword" placeholder="Please enter your mobile number">
                                </div>
                            </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-success" id="submit_reg_btn">Register</button>
                    <button type="reset" class="btn btn-outline-dark" id="reset_btn">Reset</button>
                </div>
                </div>
            </div>
    </div>

    <div class="container-fluid">
        <div style="padding: 5px; padding-left:10px;" class="row">
            <div class="col-sm-7">
                <h1 class="display-4 text-dark">Emergency Data Response</h1>
            </div>
            <div class="col-sm-5" style="padding-top:10px;" align="right">                
                <button class="btn btn-danger" style="width: 15%; height:15%; border-radius: 50%" id="push_btn"><i class="fas fa-microphone"></i> Push</button>                
                <button class="btn btn-success" id="ems_login" style="padding: 5px; font-weight: bold">Rescue Team Login</button>

            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header text-dark bg-warning" style="font-weight: bold">
                        <span>EMS Alerts</span>
                    </div>
                    <div class="card-body" style="height: 200px; overflow: scroll">
                        <marquee direction="up" scrollamount="3" onstart onmouseover="this.stop();" onmouseout="this.start();">
                            <p class="card-text">Populate the data from the backend whichever is required from Govt/EMS
                                admins</p>
                            Data<br />
                            Data<br />
                            Data<br />
                            Data<br />
                            Data<br />
                            Data<br />
                            <p id="alertsData">

                            </p>
                        </marquee>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <!-- <canvas id="myChart" width="400px" height="400px"></canvas> -->
                <div class="card">
                    <div class="card-header text-white bg-info" style="font-weight: bold">
                        <div class="row">
                            <div class="col-sm-6">
                                <span>People Near By and Connectivity</span>
                            </div>
                            <div class="input-group col-sm-6">
                                <input type="text" class="form-control form-control-sm" placeholder="Search for a Person"
                                    aria-label="Search a Person" aria-describedby="button-addon2">
                                <div class="input-group-append">
                                    <button class="btn btn-dark btn-sm bold" type="button" id="button-addon2">Search</button>
                                </div>
                                <button style="margin-left: 10px;" class="btn btn-dark btn-sm bold" type="button" id="reg_btn">Register</button>
                            </div>
                        </div>
                    </div>
                    <div class="card-body" style="height: 200px; overflow: scroll">
                        <marquee direction="up" scrollamount="1">
                            <p class="card-text">Messages from your near and dear .. </p>
                            <p class="text-dark">
                                <span class="bold">Donald Downey :</span> I am safe and searching my son Ricky Downey. I am at SEA LIFE Melbourne Aquarium<br/><br/>
                                <span class="bold">Michael Tan :</span> I am at SEA LIFE Melbourne Aquarium
                            </p>
                        </marquee>
                    </div>
                </div>
            </div>
        </div>

        <div align="center" class="row">
                <div class="col-sm-10">
                    <p style="font-weight: bold; font-size: 1rem;"> Emergency Map </p>
                    <div id="mapid"></div>
                </div>
                <div class="col-sm-2">
                    <br />                
                    <br />
                    
                    <!-- link to author https://www.iconfinder.com/laurareen  https://www.deviantart.com/svengraph -->
                    <table>
                        <tr>
                            <td><img src="markers/danger.png" width="32px" height="32px" /></td>
                            <td> - Fire Alerts</td>
                        </tr>
                        <tr>
                            <td><img src="markers/water.png" width="32px" height="32px" /> </td>
                            <td> - Water Resources</td>
                        </tr>
                        <tr>
                            <td><img src="markers/banana.png" width="32px" height="32px" /> </td>
                            <td> - Food Resources</td>
                        </tr>
                        <tr>
                                <td><img src="markers/safe.png" width="32px" height="32px" /> </td>
                                <td> - Safe Assembly Point</td>
                            </tr>
    
                    </table>
                      <br/>
                    
                </div>
        </div>


        <div class="row" style="padding-top:15px">
            <div class="col-sm">
                <div class="alert-success shadow col3height">
                    <p>
                        <span style="font-weight: bold">Guidelines:</span>
                        <ul>
                            <li>Take shelter under tables, desks or in doorways.</li>
                            <li>Stay away from windows, shelving and large free-standing furniture.</li>
                            <li>After the earthquake, look for injured persons in your area and assist, provided it is
                                safe to do so.</li>
                            <li>Leave the building as soon as your are able to.</li>
                        </ul>
                    </p>
                </div>
            </div>           
            <div class="col-sm">
                <div class="alert-success shadow col3height">
                    <p style="font-weight: bold">Help WIKI </p>
                            <p><a href="./howto.html" >How do I get a medicine ?</a></p>
                            <p><a href="./howto.html" >Why To </a></p>
                            <p><a href="./howto.html" >Where To </a></p>
                            <p><a href="./howto.html" >How To </a></p>
                </div>
            </div>
        </div>

        <br />
        <br />
        <br />
    </div>
</body>

</html>